(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{2228:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155);function s(e){let{id:t,refSel:r,items:s,handleChange:n}=e;return(0,a.jsx)("select",{id:t,ref:r,onChange:n,className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500    focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white   dark:focus:ring-blue-500 dark:focus:border-blue-500   my-5",children:s.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6692:(e,t,r)=>{Promise.resolve().then(r.bind(r,7469))},7469:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2228),n=r(2115),c=r(5695),i=r(3353),l=r(8063);let d=JSON.parse('{"pm10":{"name":"미세먼지","unit":"㎍/㎥","description":"미세먼지 측정값"},"co2":{"name":"이산화탄소","unit":"ppm","description":"이산화탄소 측정값"},"co":{"name":"일산화탄소","unit":"ppm","description":"일산화탄소 측정값"},"no2":{"name":"이산화질소","unit":"ppm","description":"이산화질소 측정값"},"no":{"name":"일산화질소","unit":"ppm","description":"일산화질소 측정값"},"nox":{"name":"질소산화물","unit":"ppm","description":"질소산화물 측정값"},"o3":{"name":"오존","unit":"ppm","description":"오존 측정값"},"pm25":{"name":"초미세먼지","unit":"㎍/㎥","description":"초미세먼지 측정값"},"fad":{"name":"폼알데하이드","unit":"㎍/㎥","description":"폼알데하이드 측정값"}}'),o=JSON.parse('[{"코드":"201193","측정소":"서면역1호선승강장"},{"코드":"202191","측정소":"서면역2호선대합실"},{"코드":"202192","측정소":"서면역2호선승강장"},{"코드":"202271","측정소":"사상역대합실"},{"코드":"203011","측정소":"수영역대합실"},{"코드":"203051","측정소":"연산역대합실"},{"코드":"203091","측정소":"미남역대합실"},{"코드":"203131","측정소":"덕천역대합실"},{"코드":"204021","측정소":"동래역4호선대합실"},{"코드":"201111","측정소":"남포역대합실"},{"코드":"201191","측정소":"서면역1호선대합실"}]');function p(){let[e]=(0,i.fp)(l.U),t=(0,c.useRouter)();(0,n.useEffect)(()=>{e||t.push("/")},[e,t]);let[r,p]=(0,n.useState)([]),[u,x]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[,g]=(0,n.useState)(),b=(0,n.useRef)(null),f=o.map(e=>e["측정소"]),y=()=>{let e=new Date;e.setDate(e.getDate()-1);let t=String(e.getFullYear());return t=t.slice(2),t+String(e.getMonth()+1).padStart(2,"0")+String(e.getDate()).padStart(2,"0")},j=async()=>{let e="https://apis.data.go.kr/6260000/IndoorAirQuality/getIndoorAirQualityByStation?serviceKey=";e="".concat(e).concat("i3iXK4dib%2BfeQbDRnwtQ%2FdGj2yn%2FiuaYODEv1069LbdX5M%2FRhm%2F2PLufPYjR4Kj91L0UkxNBM%2FpBbTDH09hiew%3D%3D","&pageNo=1&numOfRows=104&resultType=json&controlnumber=").concat(y(),"10");let t=await fetch(e);h((await t.json()).response.body.items.item)},N=()=>{var e;let t=null==(e=b.current)?void 0:e.value,r=(o.map(e=>"".concat(e["측정소"],",").concat(e["코드"])).find(e=>e.split(",")[0]===t)||"").split(",")[1]||"";console.log(r),g(r),p(m.filter(e=>e.areaIndex===r).map((e,t)=>(0,a.jsxs)("tr",{className:"bg-white border-b border-gray-200   hover:bg-gray-50 hover:cursor-pointer hover:font-bold",children:[(0,a.jsx)("td",{className:"px-6 p-4 text-center",children:e.pm10}),(0,a.jsx)("td",{className:" px-6 py-4 text-center ",children:e.co2}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.co}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.no2}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.no}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.nox}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.o3}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.pm25}),(0,a.jsx)("td",{className:" px-6 py-4 text-center",children:e.fad})]},"".concat(e).concat(t))))};return(0,n.useEffect)(()=>{j()},[]),(0,n.useEffect)(()=>{if(m)x(Object.keys(d).map(e=>(0,a.jsxs)("th",{className:"font-bold px-6 py-3 text-center w-1/9",children:[d[e].name,(0,a.jsx)("br",{}),"(",e,")"]},e))),N()},[m]),(0,a.jsxs)("div",{className:"w-9/10",children:[(0,a.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,a.jsx)("h2",{id:"kakaoMid",className:"text-lg text-gray-700 font-bold my-10 px-5 py-2 rounded-lg bg-white   border-1 border-gray-100 shadow-md shadow-gray-300",children:"측정소 선택"}),(0,a.jsx)("div",{id:"kakaoNomal",className:"w-1/3",children:(0,a.jsx)(s.A,{id:"sel",refSel:b,items:f,handleChange:N})})]}),(0,a.jsxs)("table",{id:"kakaoNomal",className:"w-full text-sm text-left rtl:text-right text-gray-700",children:[(0,a.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-gray-100 dark:bg-gray-700",children:(0,a.jsx)("tr",{children:u})}),(0,a.jsx)("tbody",{children:r})]})]})}},8063:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});let a=(0,r(3005).eU)(!1)}},e=>{var t=t=>e(e.s=t);e.O(0,[353,441,684,358],()=>t(6692)),_N_E=e.O()}]);